{"version":3,"sources":["webpack:///src/components/Login.vue","webpack:///./src/components/Login.vue?ca3f","webpack:///./src/components/Login.vue"],"names":["Login","name","data","loginForm","username","password","responseResult","methods","login","_this2","this","_this","console","log","$store","state","$axios","post","then","successResponse","code","commit","path","$route","query","redirect","$router","replace","undefined","catch","failResponse","components_Login","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","label-position","label-width","_v","type","auto-complete","placeholder","model","value","callback","$$v","$set","expression","staticStyle","width","background","border","on","click","to","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"0HAiCA,IAAAA,GACAC,KAAA,QACAC,KAFA,WAGA,OACAC,WACAC,SAAA,GACAC,SAAA,IAEAC,oBASAC,SACAC,MADA,WACA,IAAAC,EAAAC,KACAC,EAAAD,KACAE,QAAAC,IAAAH,KAAAI,OAAAC,OACAL,KAAAM,OACAC,KAAA,UACAb,SAAAM,KAAAP,UAAAC,SACAC,SAAAK,KAAAP,UAAAE,WAGAa,KAAA,SAAAC,GACA,SAAAA,EAAAjB,KAAAkB,KAAA,CACAT,EAAAG,OAAAO,OAAA,QAAAV,EAAAR,WACA,IAAAmB,EAAAb,EAAAc,OAAAC,MAAAC,SACAhB,EAAAiB,QAAAC,SAAAL,KAAA,MAAAA,QAAAM,IAAAN,EAAA,SAAAA,OAIAO,MAAA,SAAAC,SCjEeC,GADEC,OAFjB,WAA0B,IAAAC,EAAAvB,KAAawB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,QAAkBE,OAAOC,GAAA,YAAeH,EAAA,WAAgBI,YAAA,kBAAAF,OAAqCG,iBAAA,OAAAC,cAAA,SAA6CN,EAAA,MAAWI,YAAA,gBAA0BP,EAAAU,GAAA,UAAAV,EAAAU,GAAA,KAAAP,EAAA,gBAAAA,EAAA,YAAiEE,OAAOM,KAAA,OAAAC,gBAAA,QAAAC,YAAA,MAAyDC,OAAQC,MAAAf,EAAA9B,UAAA,SAAA8C,SAAA,SAAAC,GAAwDjB,EAAAkB,KAAAlB,EAAA9B,UAAA,WAAA+C,IAAyCE,WAAA,yBAAkC,GAAAnB,EAAAU,GAAA,KAAAP,EAAA,gBAAAA,EAAA,YAAoDE,OAAOM,KAAA,OAAAC,gBAAA,QAAAC,YAAA,MAAyDC,OAAQC,MAAAf,EAAA9B,UAAA,SAAA8C,SAAA,SAAAC,GAAwDjB,EAAAkB,KAAAlB,EAAA9B,UAAA,WAAA+C,IAAyCE,WAAA,yBAAkC,GAAAnB,EAAAU,GAAA,KAAAP,EAAA,gBAAqCiB,aAAaC,MAAA,UAAgBlB,EAAA,aAAkBiB,aAAaC,MAAA,MAAAC,WAAA,UAAAC,OAAA,QAAqDlB,OAAQM,KAAA,WAAiBa,IAAKC,MAAAzB,EAAAzB,SAAmByB,EAAAU,GAAA,QAAAV,EAAAU,GAAA,KAAAP,EAAA,eAA+CE,OAAOqB,GAAA,cAAiBvB,EAAA,aAAkBiB,aAAaC,MAAA,MAAAC,WAAA,UAAAC,OAAA,QAAqDlB,OAAQM,KAAA,aAAkBX,EAAAU,GAAA,yBAE9nCiB,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACE/D,EACA+B,GATF,EAVA,SAAAiC,GACEF,EAAQ,SAaV,KAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/3.ac453c2cc3a5e46b6805.js","sourcesContent":["<template>\n  <body id=\"poster\">\n  <!--  使用ElementUI-->\n  <!--  代码可直接去https://element.eleme.cn/#/zh-CN/component/form -->\n  <el-form class=\"login-container\" label-position=\"left\" label-width=\"0px\">\n    <h3 class=\"login-title\">系统登录</h3>\n\n    <el-form-item>\n      <el-input type=\"text\" v-model=\"loginForm.username\" auto-complete=\"false\" placeholder=\"账号\"></el-input>\n    </el-form-item>\n\n    <el-form-item>\n      <el-input type=\"text\" v-model=\"loginForm.password\" auto-complete=\"false\" placeholder=\"密码\"></el-input>\n    </el-form-item>\n\n    <el-form-item style=\"width: 100%\">\n      <el-button type=\"primary\" style=\"width: 40%; background: #505458; border: none\" v-on:click=\"login\">登录</el-button>\n      <router-link to=\"register\"><el-button type=\"primary\" style=\"width: 40%;background: #505458;border: none\">注册</el-button></router-link>\n    </el-form-item>\n  </el-form>\n  </body>\n  <!--  未用ElementUI-->\n  <!--<el-card>-->\n  <!--  账号：<input type=\"text\" v-model=\"loginForm.username\" placeholder=\"请输入账号\">-->\n  <!--  <br><br>-->\n  <!--  密码：<input type=\"text\" v-model=\"loginForm.password\" placeholder=\"请输入密码\">-->\n  <!--  <br><br>-->\n  <!--  <button v-on:click=\"login\">登录</button>-->\n  <!--</el-card>-->\n</template>\n\n<script>\n\n  export default {\n    name: 'Login',\n    data () {\n      return {\n        loginForm: {\n          username: '',\n          password: ''\n        },\n        responseResult: []\n      }\n    },\n    // 实现登录拦截\n    // 1.点击登录按钮，向后端发送数据\n    // 2.受到后端返回的成功代码时，触发 store 中的 login() 方法，把 loginForm 对象传递给 store 中的 user 对象\n    // （*这里只是简单的实现，在后端我们可以通过用户名和密码查询数据库，获得 user 表的完整信息，比如用户昵称、用户级别等，\n    // 返回前端，并传递给 user 对象，以实现更复杂的功能）\n    // 3.获取登录前页面的路径并跳转，如果该路径不存在，则跳转到首页\n    methods: {\n      login () {\n        var _this = this\n        console.log(this.$store.state)\n        this.$axios\n          .post('/login', {\n              username: this.loginForm.username,\n              password: this.loginForm.password\n            }\n          )\n          .then(successResponse => {\n            if (successResponse.data.code === 200) {\n              _this.$store.commit('login', _this.loginForm)\n              var path = this.$route.query.redirect\n              this.$router.replace({path: path === '/' || path === undefined ? '/index' : path}\n              )\n            }\n          })\n          .catch(failResponse => {\n\n          })\n      }\n    }\n  }\n</script>\n<!--美化一下-->\n<style>\n  #poster {\n    background:url(\"../assets/eva.jpg\") no-repeat;\n    background-position: center;\n    height: 100%;\n    width: 100%;\n    background-size: cover;\n    position: fixed;\n  }\n  body{\n    margin: 0px;\n  }\n  .login-container {\n    border-radius: 15px;\n    background-clip: padding-box;\n    margin: 90px auto;\n    width: 350px;\n    padding: 35px 35px 15px 35px;\n    background: #fff;\n    border: 1px solid #eaeaea;\n    box-shadow: 0 0 25px #cac6c6;\n  }\n  .login_title {\n    margin: 0px auto 40px auto;\n    text-align: center;\n    color: #505458;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('body',{attrs:{\"id\":\"poster\"}},[_c('el-form',{staticClass:\"login-container\",attrs:{\"label-position\":\"left\",\"label-width\":\"0px\"}},[_c('h3',{staticClass:\"login-title\"},[_vm._v(\"系统登录\")]),_vm._v(\" \"),_c('el-form-item',[_c('el-input',{attrs:{\"type\":\"text\",\"auto-complete\":\"false\",\"placeholder\":\"账号\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-input',{attrs:{\"type\":\"text\",\"auto-complete\":\"false\",\"placeholder\":\"密码\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"width\":\"100%\"}},[_c('el-button',{staticStyle:{\"width\":\"40%\",\"background\":\"#505458\",\"border\":\"none\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.login}},[_vm._v(\"登录\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"register\"}},[_c('el-button',{staticStyle:{\"width\":\"40%\",\"background\":\"#505458\",\"border\":\"none\"},attrs:{\"type\":\"primary\"}},[_vm._v(\"注册\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14e6c08b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-14e6c08b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-14e6c08b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}